/************************************************************************************************************************
*										test.c
*
*
*
************************************************************************************************************************/
#include "AVR_RTOS.h"

INT8U Stack1[32];
INT8U Stack2[32];
INT8U Stack3[32];
OS_SEM Sem;
/************************************************************************************************************************
函数名称：	void Task0(void)
函数原型：	void Task0(void)
函数功能：	任务0	
************************************************************************************************************************/
void Task0(void)
{
	DDRC = 0xff;
	PORTC = 0x00;
	
	while(1)
	{	
		PORTC = ~PORTC;
		OSTimeDly(1);
	}
}

/************************************************************************************************************************
函数名称：	void Task1(void)
函数原型：	void Task1(void)
函数功能：	任务1：	
************************************************************************************************************************/
void Task1(void)
{

	DDRB = 0xff;
	PORTB = 0xff;
	while(1)
	{     	
		PORTB = ~PORTB;
		OSTimeDly(2);
	}
}

/************************************************************************************************************************
函数名称：	void Task2(void)
函数原型：	void Task2(void)
函数功能：	任务2	
************************************************************************************************************************/
void Task2(void)
{
    DDRB = 0xff;
	PORTB = 0xff;
	while(1) 
	 
	{   
		PORTB = ~PORTB;  
		OSTimeDly(3);
	}
}

/************************************************************************************************************************
函数名称：	int main(void)
函数原型：	int main(void)
函数功能：	主函数：	
************************************************************************************************************************/
int main(void)
{
	OSInit();

	OSTaskCreate(Task0,&Stack1[64-1],0);
	OSTaskCreate(Task1,&Stack2[64-1],1);
	OSTaskCreate(Task2,&Stack3[64-1],2);
	
	OSStart();
	return 0;
}

